(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["memo"],{"08cf":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("div",[s("SearchBtn",{staticClass:"searchBtn",attrs:{iconValue:t.iconValue},on:{showForm:t.showForm}}),s("Search",{staticClass:"search",class:t.formHidden,on:{showList:t.showList,loading:t.loading,formHidden:function(s){t.formHidden="hidden"},iconValue:t.iconValueChange}}),s("List",{attrs:{yAndm:t.yAndm,checkShowList:t.checkShowList,loading:t.loadingFlag},on:{resetFlags:t.resetFlags}})],1)},i=[],n=(e("14d9"),e("8336")),o=e("132d"),c=function(){var t=this,s=t._self._c;return s(n["a"],{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"orange",loading:t.load},on:{click:t.showForm}},[s(o["a"],{attrs:{dark:""}},[t._v(" "+t._s(t.icon)+" ")])],1)},l=[],d={props:{iconValue:{type:String}},data(){return{icon:"mdi-magnify",load:!1}},methods:{showForm(){"X"===this.icon?(this.icon="mdi-magnify",this.$emit("showForm","hidden")):(this.icon="X",this.$emit("showForm",""))}},watch:{iconValue:function(){this.load=!0,setTimeout(()=>{this.load=!1},1e3),this.icon=this.iconValue}}},r=d,h=e("2877"),m=Object(h["a"])(r,c,l,!1,null,null,null),u=m.exports,y=e("b974"),f=function(){var t=this,s=t._self._c;return s("div",{staticClass:"inputDate",staticStyle:{position:"fixed"}},[s(y["a"],{attrs:{items:t.years,label:"何年？",solo:""},model:{value:t.yAndm.year,callback:function(s){t.$set(t.yAndm,"year",s)},expression:"yAndm.year"}}),s(y["a"],{attrs:{items:t.months,label:"何月？",solo:""},model:{value:t.yAndm.month,callback:function(s){t.$set(t.yAndm,"month",s)},expression:"yAndm.month"}}),s(n["a"],{attrs:{color:"#FFCC80",block:"",disabled:t.disabledCheck},on:{click:t.showList}},[t._v("検索")])],1)},g=[],_={data(){return{years:["2022年","2023年","2024年"],months:["4月","5月","6月","7月","8月","9月","10月","11月","12月","1月","2月","3月"],yAndm:{year:"",month:""}}},methods:{showList(){this.$emit("showList",this.yAndm),this.$emit("loading",!0),this.$emit("formHidden","hidden"),this.$emit("iconValue")}},computed:{disabledCheck(){let t=!0;return this.yAndm.year.length>0&&this.yAndm.month.length>0&&(t=!1),t}}},p=_,A=(e("2ac7"),Object(h["a"])(p,f,g,!1,null,"7bec73f9",null)),w=A.exports,b=function(){var t=this,s=t._self._c;return s("div",{staticClass:"listArea"},[s("div",{staticClass:"dateText"},[s("h3",[t._v(t._s(t.yAndm.year)+t._s(t.yAndm.month))])]),t._l(t.lists,(function(e,a){return s("div",{key:e.id,staticClass:"listItem"},[s("div",{staticClass:"day",staticStyle:{padding:"10px 0"}},[s("h3",[t._v(t._s(e.data.day))])]),s("div",[s("h4",[t._v(t._s(e.data.time))])]),s("ul",t._l(e.data.meals,(function(e,a){return s("li",{key:a},[t._v(" "+t._s(e.genre)+":"+t._s(e.name)+"/"+t._s(e.cal+"kcal")+" ")])})),0),s(o["a"],{staticStyle:{"margin-top":"10px"},on:{click:function(s){return t.deleteMe(e.id,a)}}},[t._v("mdi-delete")])],1)})),s("Loading",{class:t.loadStart})],2)},O=[],v=e("260b"),S=e("e71f"),j=e("3a5e");Object(v["a"])({apikey:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIKEY,authDomain:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_AUTHDOMAIN,projectId:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_PROJECT_ID});const k=Object(S["e"])();var L={props:{yAndm:{type:Object},checkShowList:{type:Boolean},loading:{type:Boolean}},components:{Loading:j["a"]},data(){return{lists:[],loadStart:"hidden"}},watch:{loading:function(){!0===this.loading?this.loadStart="":this.loadStart="hidden"},checkShowList:async function(){if(!0===this.checkShowList){this.lists=[];let t=[],s=this.yAndm.year,e=this.yAndm.month;const a=t=>"NODATA"!==t.genre,i=Object(S["g"])(Object(S["a"])(k,"users",this.$store.state.nowUserPass,this.$store.state.nowUserName,"Data",s),Object(S["i"])("month","==",e),Object(S["f"])("day")),n=await Object(S["d"])(i);n.forEach(s=>{s.data().meals.every(a)?this.lists.push({id:s.id,data:s.data()}):(s.data().meals.forEach((e,a)=>{"NODATA"===e.genre&&(t=s.data(),t.meals.splice(a,1),console.log(t))}),this.lists.push({id:s.id,data:t}))}),this.lists.length<=0&&alert("該当データが存在しません"),this.$emit("resetFlags",!1)}}},methods:{async deleteMe(t,s){await Object(S["b"])(Object(S["c"])(k,"users",this.$store.state.nowUserPass,this.$store.state.nowUserName,"Data",this.yAndm.year,t)),this.lists.splice(s,1)}},async mounted(){const t=t=>"NODATA"!==t.genre,s=new Date;let e=[];const a=String(s.getMonth()+1)+"月",i=String(s.getFullYear())+"年";this.yAndm.year=i,this.yAndm.month=a;const n=Object(S["g"])(Object(S["a"])(k,"users",this.$store.state.nowUserPass,this.$store.state.nowUserName,"Data",i),Object(S["i"])("month","==",a),Object(S["f"])("day")),o=await Object(S["d"])(n);o.forEach(s=>{s.data().meals.every(t)?this.lists.push({id:s.id,data:s.data()}):(s.data().meals.forEach((t,a)=>{"NODATA"===t.genre&&(e=s.data(),e.meals.splice(a,1))}),this.lists.push({id:s.id,data:e}))}),this.lists.length<=0&&alert("該当データが存在しません"),this.lists=this.lists.filter(Boolean),this.$emit("resetFlags",!1)}},F=L,E=(e("0add"),Object(h["a"])(F,b,O,!1,null,"8c95de9a",null)),V=E.exports,$={components:{SearchBtn:u,Search:w,List:V},data(){return{formHidden:"hidden",yAndm:{year:"",month:""},checkShowList:!1,loadingFlag:!1,iconValue:""}},methods:{showForm(t){this.formHidden=t},iconValueChange(){setTimeout(()=>{this.iconValue="mdi-magnify"},1e3),this.iconValue=" "},resetFlags(){this.loadingFlag=!1,this.checkShowList=!1},showList(t){this.yAndm.year=t.year,this.yAndm.month=t.month,this.checkShowList=!0},loading(t){this.loadingFlag=t}},mounted(){!1===this.$store.state.login&&this.$router.push("/")}},C=$,D=(e("1aca"),Object(h["a"])(C,a,i,!1,null,"530229e0",null));s["default"]=D.exports},"0add":function(t,s,e){"use strict";e("d199")},"1aca":function(t,s,e){"use strict";e("f584")},"2ac7":function(t,s,e){"use strict";e("d475")},"2e16":function(t,s,e){},"3a5e":function(t,s,e){"use strict";var a=function(){var t=this;t._self._c;return t._m(0)},i=[function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"item"})])}],n=(e("ee89"),e("2877")),o={},c=Object(n["a"])(o,a,i,!1,null,"72349477",null);s["a"]=c.exports},d199:function(t,s,e){},d475:function(t,s,e){},ee89:function(t,s,e){"use strict";e("2e16")},f584:function(t,s,e){}}]);
//# sourceMappingURL=memo.a997b97d.js.map